"use strict";/*Compiled using Cheerp (R) by Leaning Technologies Ltd*/var bW=Math.imul;var bX=Math.fround;var oSlot=0;var nullArray=[null];var nullObj={d:nullArray,o:0};function fetchBuffer(p) {var bytes = null;if (typeof window === 'undefined' && typeof self === 'undefined' && typeof require === 'undefined') {bytes = new Promise( (resolve, reject) => {resolve(read(p,'binary'));});} else if (typeof window === 'undefined' && typeof self === 'undefined') {var fs = require('fs');var path = require('path');p = path.join(__dirname, p);bytes = new Promise( (resolve, reject) => {fs.readFile(p, function(error, data) {if(error) reject(error);else resolve(data);});});} else {bytes = fetch(p).then(response => response.arrayBuffer());}return bytes;}function bq(n,o,m){var f=null,h=null,i=-0.,k=0,j=-0.,p=null;ax=m;f=new Float32Array(3);aa={d:f,o:0};f=new Float32Array(3);$={d:f,o:0};h=aa;h.d[h.o]=0;h.d[h.o+1|0]=0;h.d[h.o+2|0]=0;f[0]=0;f[1]=0;f[2]=0;f="glcanvas";f=document.getElementById(f);f=f;Y=f;f.height=400;Y.width=400;f=Y;h="experimental-webgl";f=f.getContext(h);f=f;s=f;f.clearColor(0,0,1,1);f=s.createBuffer();aq=f;f=s;i=+f.ARRAY_BUFFER;f.bindBuffer(i,aq);h=s;i=+h.ARRAY_BUFFER;k=o;f=n;f=f;if((k|0)!==0){f=f.subarray((+(k>>>0)));}j=+s.STATIC_DRAW;h.bufferData(i,f,j);bf();f=s;h=C;p="a_position";i=+f.getAttribLocation(h,p);f=s;j=+f.FLOAT;f.vertexAttribPointer(i,3,j,!!0,0,0);s.enableVertexAttribArray(i);f=s;i=+f.DEPTH_TEST;f.enable(i);s.viewport(0,0,400,400);}function bf(){var f=null,j=-0.,i=null,h=null;f=s;j=+f.VERTEX_SHADER;f=f.createShader(j);N=f;f=s;j=+f.FRAGMENT_SHADER;f=f.createShader(j);O=f;f=s;i=N;h="uniform vec3 cameraPosition;\nuniform vec3 cameraAngles;\nuniform float near;\nuniform float far;\nuniform float width;\nuniform float height;\nattribute vec3 a_position;\nvoid main() {\n\tmat3 a = mat3( vec3( 1, 0, 0 ), \n\t\tvec3( 0, cos( cameraAngles.x ), sin( cameraAngles.x ) ), \n\t\tvec3( 0, -sin( cameraAngles.x ), cos( cameraAngles.x ) ) );\n\tmat3 b = mat3( vec3( cos( cameraAngles.y ), 0, -sin( cameraAngles.y ) ), \n\t\tvec3( 0, 1, 0 )\n, \t\tvec3( sin( cameraAngles.y ), 0, cos( cameraAngles.y ) ) );\n\tmat3 c = mat3( vec3( cos( cameraAngles.z ), sin( cameraAngles.z ), 0 ), \n\t\tvec3( -sin( cameraAngles.z ), cos( cameraAngles.z ), 0 ),\n\t\tvec3( 0, 0, 1 ) );\n\tmat4 m = mat4(\t\tvec4( 1.0 / width, 0.0, 0.0, 0.0 ), \n\t\tvec4( 0.0, 1.0 / height, 0.0, 0.0 ), \n\t\tvec4( 0.0, 0.0, -2.0 / ( far - near ), 0.0 ), \n\t\tvec4( 0.0, 0.0, -( far + near ) / ( far - near ), 1.0 ) );\n\tgl_Position = vec4( a * b * c * ( a_position - cameraPosition ), 1.0 ) * m;\n}\n";f.shaderSource(i,h);f=s;i=O;h="void main() {\n\tgl_FragColor = vec4( 0.0, 1.0, 0.0, 1.0 );\n}\n";f.shaderSource(i,h);s.compileShader(N);s.compileShader(O);f=s.createProgram();C=f;s.attachShader(f,N);s.attachShader(C,O);s.linkProgram(C);s.useProgram(C);}function al(){var f=null,j=0,i=null,h=null,k=-0.;f=s;j=f.COLOR_BUFFER_BIT;f.clear((+(j|0)));f=s;i=C;h="cameraPosition";f=f.getUniformLocation(i,h);aw=f;f=s;i=C;h="cameraAngles";f=f.getUniformLocation(i,h);az=f;f=s;i=C;h="near";f=f.getUniformLocation(i,h);au=f;f=s;i=C;h="far";f=f.getUniformLocation(i,h);ay=f;f=s;i=C;h="width";f=f.getUniformLocation(i,h);aA=f;f=s;i=C;h="height";f=f.getUniformLocation(i,h);av=f;f=$;f.d[f.o+2|0]= +f.d[f.o+2|0]+bX(.00999999977);f=aa;f.d[f.o+2|0]= +f.d[f.o+2|0]+bX(-0.00999999977);i=s;h=aw;j=f.o;f=f.d;f=f;if((j|0)!==0){f=f.subarray((+(j>>>0)));}f=new Float32Array(f);i.uniform3fv(h,f);i=s;h=az;f=$;j=f.o;f=f.d;f=f;if((j|0)!==0){f=f.subarray((+(j>>>0)));}f=new Float32Array(f);i.uniform3fv(h,f);s.uniform1f(au,0);s.uniform1f(ay,10);s.uniform1f(aA,1);s.uniform1f(av,1);f=s;k=+f.TRIANGLES;f.drawArrays(k,0,(+(ax>>>0)));f=al;+requestAnimationFrame(f);}function z(f,g){var i=0,j=0,h=null,k=null;h=String();i=f[g]|0;if((i&255)===0){h=String(h);return h;}else{j=0;}while(1){k=String.fromCharCode(i<<24>>24);h=h.concat(k);j=j+1|0;i=f[g+j|0]|0;if((i&255)!==0){continue;}break;}h=String(h);return h;}function ai(f,g){var h=null;h=z(f,g);console.log(h);}var s;var C;var aw;var az;var au;var ay;var aA;var av;var $;var aa;var ax;var Y;var aq;var N;var O;function cg(bytes){var pages=(bytes+65535)>>16;try{__asm.ci.grow(pages);a=new Uint8Array(__asm.ci.buffer);b=new Uint16Array(__asm.ci.buffer);c=new Int32Array(__asm.ci.buffer);d=new Float32Array(__asm.ci.buffer);e=new Float64Array(__asm.ci.buffer);return pages<<16;}catch(e){return -1;}}var a=null;var b=null;var c=null;var d=null;var e=null;var __asm=null;var __heap=null;function _asm_ai(f){ai(a,f);}function _asm_bq(n,m){bq(d,n>>2,m);}function bU(h){oSlot=__asm.bU(h);return a;}function ch(){throw new Error('this should be unreachable');};fetchBuffer('Main.wasm').then(r=>WebAssembly.instantiate(r,{i:{al:al,ai:_asm_ai,bq:_asm_bq,cg:cg,}}),console.log).then(r=>{var i=r.instance;a=new Uint8Array(i.exports.ci.buffer);b=new Uint16Array(i.exports.ci.buffer);c=new Int32Array(i.exports.ci.buffer);d=new Float32Array(i.exports.ci.buffer);e=new Float64Array(i.exports.ci.buffer);__asm=i.exports;__heap=i.exports.ci.buffer;i.exports.bx();},console.log,console.log);