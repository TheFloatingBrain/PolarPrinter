"use strict";/*Compiled using Cheerp (R) by Leaning Technologies Ltd*/var bW=Math.imul;var bX=Math.fround;var oSlot=0;var nullArray=[null];var nullObj={d:nullArray,o:0};function fetchBuffer(p) {var bytes = null;if (typeof window === 'undefined' && typeof self === 'undefined' && typeof require === 'undefined') {bytes = new Promise( (resolve, reject) => {resolve(read(p,'binary'));});} else if (typeof window === 'undefined' && typeof self === 'undefined') {var fs = require('fs');var path = require('path');p = path.join(__dirname, p);bytes = new Promise( (resolve, reject) => {fs.readFile(p, function(error, data) {if(error) reject(error);else resolve(data);});});} else {bytes = fetch(p).then(response => response.arrayBuffer());}return bytes;}function br(n,o,m){var f=null,h=null,i=-0.,k=0,j=-0.,p=null;ay=m;f=new Float32Array(3);$={d:f,o:0};f=new Float32Array(3);aa={d:f,o:0};h=$;h.d[h.o]=0;h.d[h.o+1|0]=0;h.d[h.o+2|0]=0;f[0]=0;f[1]=0;f[2]=0;at=0;aw=10;ax=1;av=1;f="glcanvas";f=document.getElementById(f);f=f;Z=f;f.height=400;Z.width=400;f=Z;h="experimental-webgl";f=f.getContext(h);f=f;u=f;f.clearColor(0,0,1,1);f=u.createBuffer();ar=f;f=u;i=+f.ARRAY_BUFFER;f.bindBuffer(i,ar);h=u;i=+h.ARRAY_BUFFER;k=o;f=n;f=f;if((k|0)!==0){f=f.subarray((+(k>>>0)));}j=+u.STATIC_DRAW;h.bufferData(i,f,j);bh();f=u;h=F;p="a_position";i=+f.getAttribLocation(h,p);f=u;j=+f.FLOAT;f.vertexAttribPointer(i,3,j,!!0,0,0);u.enableVertexAttribArray(i);f=u;i=+f.DEPTH_TEST;f.enable(i);u.viewport(0,0,400,400);}function bh(){var f=null,j=-0.,i=null,h=null;f=u;j=+f.VERTEX_SHADER;f=f.createShader(j);P=f;f=u;j=+f.FRAGMENT_SHADER;f=f.createShader(j);Q=f;f=u;i=P;h="uniform vec3 cameraPosition;\nuniform vec3 cameraAngles;\nuniform mat4 perspective;\nattribute vec3 a_position;\nvoid main() {\n\tmat3 a = mat3( vec3( 1, 0, 0 ), \n\t\t\tvec3( 0, cos( cameraAngles.x ), sin( cameraAngles.x ) ), \n\t\t\tvec3( 0, -sin( cameraAngles.x ), cos( cameraAngles.x ) ) );\n\tmat3 b = mat3( vec3( cos( cameraAngles.y ), 0, -sin( cameraAngles.y ) ), \n\t\t\tvec3( 0, 1, 0 )\n, \t\t\tvec3( sin( cameraAngles.y ), 0, cos( cameraAngles.y ) ) );\n\tmat3 c = mat3( vec3( cos( cameraAngles.z ), sin( cameraAngles.z ), 0 ), \n\t\t\tvec3( -sin( cameraAngles.z ), cos( cameraAngles.z ), 0 ),\n\t\t\tvec3( 0, 0, 1 ) );\n\tgl_Position = vec4( a * b * c * ( a_position - cameraPosition ), 1.0 ) * perspective;\n}\n";f.shaderSource(i,h);f=u;i=Q;h="void main() {\n\tgl_FragColor = vec4( 0.0, 1.0, 0.0, 1.0 );\n}\n";f.shaderSource(i,h);u.compileShader(P);u.compileShader(Q);f=u.createProgram();F=f;u.attachShader(f,P);u.attachShader(F,Q);u.linkProgram(F);u.useProgram(F);}function al(){var f=null,j=0,i=null,h=null,k=-0.,n=-0.,m=-0.,p=null;f=u;j=f.COLOR_BUFFER_BIT;f.clear((+(j|0)));f=u;i=F;h="cameraPosition";f=f.getUniformLocation(i,h);au=f;f=u;i=F;h="cameraAngles";f=f.getUniformLocation(i,h);az=f;f=aa;f.d[f.o+2|0]= +f.d[f.o+2|0]+bX(.00999999977);f=$;f.d[f.o+2|0]= +f.d[f.o+2|0]+bX(-0.00999999977);i=u;h=au;j=f.o;f=f.d;f=f;if((j|0)!==0){f=f.subarray((+(j>>>0)));}f=new Float32Array(f);i.uniform3fv(h,f);i=u;h=az;f=aa;j=f.o;f=f.d;f=f;if((j|0)!==0){f=f.subarray((+(j>>>0)));}f=new Float32Array(f);i.uniform3fv(h,f);f=u;i=F;h="perspective";i=f.getUniformLocation(i,h);bv=i;h=new Float32Array(16);h[0]=1/ +ax;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=1/ +av;h[6]=0;h[7]=0;h[8]=0;h[9]=0;k=+aw;n=+at;m=k-n;h[10]= -2/m;h[11]=0;h[12]=0;h[13]=0;h[14]=(-(k+n))/m;h[15]=1;p=u;j=0;f=h;f=f;if((j|0)!==0){f=f.subarray((+(j>>>0)));}f=new Float32Array(f);p.uniformMatrix4fv(i,!!0,f);f=u;k=+f.TRIANGLES;f.drawArrays(k,0,(+(ay>>>0)));f=al;+requestAnimationFrame(f);}function D(f,g){var i=0,j=0,h=null,k=null;h=String();i=f[g]|0;if((i&255)===0){h=String(h);return h;}else{j=0;}while(1){k=String.fromCharCode(i<<24>>24);h=h.concat(k);j=j+1|0;i=f[g+j|0]|0;if((i&255)!==0){continue;}break;}h=String(h);return h;}function ag(f,g){var h=null;h=D(f,g);console.log(h);}var u;var F;var au;var az;var aa;var $;var bv;var ax;var av;var aw;var at;var ay;var Z;var ar;var P;var Q;function cg(bytes){var pages=(bytes+65535)>>16;try{__asm.ci.grow(pages);a=new Uint8Array(__asm.ci.buffer);b=new Uint16Array(__asm.ci.buffer);c=new Int32Array(__asm.ci.buffer);d=new Float32Array(__asm.ci.buffer);e=new Float64Array(__asm.ci.buffer);return pages<<16;}catch(e){return -1;}}var a=null;var b=null;var c=null;var d=null;var e=null;var __asm=null;var __heap=null;function _asm_ag(f){ag(a,f);}function _asm_br(n,m){br(d,n>>2,m);}function bU(h){oSlot=__asm.bU(h);return a;}function ch(){throw new Error('this should be unreachable');};fetchBuffer('Main.wasm').then(r=>WebAssembly.instantiate(r,{i:{al:al,ag:_asm_ag,br:_asm_br,cg:cg,}}),console.log).then(r=>{var i=r.instance;a=new Uint8Array(i.exports.ci.buffer);b=new Uint16Array(i.exports.ci.buffer);c=new Int32Array(i.exports.ci.buffer);d=new Float32Array(i.exports.ci.buffer);e=new Float64Array(i.exports.ci.buffer);__asm=i.exports;__heap=i.exports.ci.buffer;i.exports.bx();},console.log,console.log);